<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Overtime Tracker</title>
    <link rel="stylesheet" href="style.css">
    <script defer src="db.js"></script>
    <script defer src="popup.js"></script>
    <script defer src="chart.js"></script>
</head>
<body>
<div class="container">
    <header>
        <h1>Overtime Tracker</h1>
        <nav class="tab-nav">
            <button class="tab-link active" data-tab="add-entry">Add Entry</button>
            <button class="tab-link" data-tab="dashboard">Dashboard</button>
            <button class="tab-link" data-tab="history-tab">History</button>
            <button class="tab-link" data-tab="settings-tab">Settings</button>
        </nav>
    </header>

    <main>
        <!-- Add Entry Tab -->
        <div id="add-entry" class="tab-content active">
            <div class="form-group">
                <label for="startTime">Start Time *</label>
                <input type="datetime-local" id="startTime" required>
            </div>
            <div class="form-group">
                <label for="endTime">End Time *</label>
                <input type="datetime-local" id="endTime" required>
            </div>
            <div class="form-group">
                <label for="notes">Notes</label>
                <textarea id="notes" placeholder="What did you work on?"></textarea>
            </div>
            <button id="saveBtn" class="btn-primary">Save Entry</button>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard" class="tab-content">
            <div class="chart-container">
                <canvas id="barChart"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="pieChart"></canvas>
            </div>
        </div>

        <!-- History Tab -->
        <div id="history-tab" class="tab-content">
            <div class="filter-controls">
                <div class="date-filter">
                    <div class="form-group">
                        <label for="filterStartDate">From</label>
                        <input type="date" id="filterStartDate">
                    </div>
                    <div class="form-group">
                        <label for="filterEndDate">To</label>
                        <input type="date" id="filterEndDate">
                    </div>
                </div>
                <div class="filter-actions">
                    <button id="filterBtn">Filter</button>
                    <button id="resetFilterBtn">Reset</button>
                </div>
            </div>
            <div id="summary"></div>
            <button id="exportBtn">Export to CSV</button>
            <ul id="history-list"></ul>
        </div>

        <!-- ADD THE ENTIRE SETTINGS TAB -->
        <div id="settings-tab" class="tab-content">
            <h2>Settings</h2>
            <div class="form-group">
                <label for="conversionRate">Overtime Conversion Rate</label>
                <input type="number" id="conversionRate" step="0.01" min="1" value="1.5">
                <small>Enter the multiplier for overtime hours (e.g., 1.5 for time and a half).</small>
            </div>
            <button id="saveSettingsBtn" class="btn-primary">Save Settings</button>
        </div>
    </main>
</div>

<!-- Alert Modal -->
<div id="alertModal" class="modal">
    <div class="modal-content">
        <h2>Notification</h2>
        <p id="alertMessage"></p>
        <div class="modal-buttons">
            <button id="alertOkBtn" class="btn-primary">OK</button>
        </div>
    </div>
</div>

<!-- Edit Modal -->
<div id="editModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Edit Entry</h2>
        <div class="form-group">
            <label for="editStartTime">Start Time *</label>
            <input type="datetime-local" id="editStartTime" required>
        </div>
        <div class="form-group">
            <label for="editEndTime">End Time *</label>
            <input type="datetime-local" id="editEndTime" required>
        </div>
        <div class="form-group">
            <label for="editNotes">Notes</label>
            <textarea id="editNotes"></textarea>
        </div>
        <div class="modal-buttons">
            <button id="updateBtn" class="btn-primary">Update</button>
            <button id="cancelBtn">Cancel</button>
        </div>
    </div>
</div>

<!-- Confirmation Modal -->
<div id="confirmModal" class="modal">
    <div class="modal-content">
        <h2>Confirm Action</h2>
        <p id="confirmMessage"></p>
        <div class="modal-buttons">
            <button id="confirmBtn" class="btn-danger">Confirm</button>
            <button id="confirmCancelBtn">Cancel</button>
        </div>
    </div>
</div>
</body>
</html>